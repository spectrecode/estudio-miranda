var Rocket=function(e){if(e.defaults||(e.defaults={}),e.defaults.flicker={selector:".flicker",animation:"transform-slide",arrows:!0,arrowsConstraint:!1,autoFlick:!0,autoFlickDelay:10,dotAlignment:"center",dots:!0,position:1},!e.exists){var t=function(e){return"undefined"!=typeof e&&null!==e&&e!==!1};e.exists=t}if(!e.has){var n={spaces:function(e){return/\s/.test(e)},class:function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}};e.has=n}if(!e.is){var o={array:function(e){return"object"==typeof e&&e instanceof Array},color:function(e){o.colour(e)},colour:function(e){return defaults.regexp.colour.test(e)},date:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.date;return t.test(e)},element:function(e){return!(!e.nodeType||1!==e.nodeType)},email:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.email;return t.test(e)},float:function(e){return defaults.regexp.float.test(e)},integer:function(e){return defaults.regexp.integer.test(e)},image:function(e,t){var n=o.array(t)?t:defaults.extensions.images;return n[e.split(".").pop().toLowerCase()]},json:function(e){if("object"!=typeof e)try{JSON.parse(e)}catch(e){return!1}return!0},password:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.password;return t.test(e)},time:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.time;return t.test(e)},touch:function(){return"ontouchstart"in window||"onmsgesturechange"in window},url:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.url;return t.test(e)}};e.is=o}if(!e.class){var r={add:function(e,t){r.executeClasses(e,t,!1)},clear:function(e){t(e)&&e.removeAttribute("class")},executeAdd:function(e,t){e.className=e.className.split(" ").concat(t).filter(function(e,t,n){return n.indexOf(e)===t&&""!==e}).toString().replace(/,/g," ")},executeClasses:function(e,n,i){if(!t(e))return!1;var a=[];if(o.element(e)?a.push(e):o.array(e)&&(a=e),a.length<1)return!1;for(var s=c.makeArray(n,!0),l=c.makeArray(i,!0),u=s.length>0,f=l.length>0,d=0,m=a.length;d<m;d++)u&&r.executeAdd(a[d],s),f&&r.executeRemove(a[d],l)},executeRemove:function(e,t){e.className=e.className.split(" ").filter(function(e){return t.indexOf(e)<0}).toString().replace(/,/g," "),""===e.className&&r.clear(e)},remove:function(e,t){r.executeClasses(e,!1,t)},replace:function(e,t,n){r.executeClasses(e,n,t)},toggle:function(e,i){if(!t(e)||"string"!=typeof i||n.spaces(i))return!1;var a=[];if(o.element(e)?a.push(e):o.array(e)&&(a=e),a.length<1)return!1;for(var s=0,c=e.length;s<c;s++)n.class(e[s],i)?r.executeRemove(e[s],[i]):r.executeAdd(e[s],[i])}};e.class=r}if(!e.log){var i=function(e){window&&window.console&&console.log(e)};e.log=i}if(e.dom||(e.dom={}),e.dom.html||(e.dom.html=document.getElementsByTagName("html")[0]),!e.event){var a={add:function(e,t,n){null!=e&&"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},remove:function(e,t,n){null!=e&&"undefined"!=typeof e&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=n)}};e.event=a}if(!e.get){var s={extension:function(e){return e.split(".").pop().toLowerCase()},index:function(e){return[].indexOf.call(e.parentNode.children,e)}};e.get=s}if(!e.helper)var c={makeArray:function(e,t){var r=[];if(!e)return r;var t="boolean"==typeof t&&t;return o.array(e)?r=t?e.filter(function(e){return r.indexOf(e)<0}):e:o.element(e)?r.push(e):"string"==typeof e&&(n.spaces(e)?r=t?e.split(" ").filter(function(e){return r.indexOf(e)<0}):e.split(" "):r.push(e)),r},parse:{json:function(e){return o.json(e)?JSON.parse(e):e}},setDefault:function(e,t){return("undefined"!=typeof e||"undefined"!=typeof t)&&("undefined"!=typeof e&&"undefined"==typeof t?e:typeof e==typeof t?e:t)}};if(!e.time){var l={basic:function(e){var e=date.transform(e),t=l.leadingZero(e.getHours()),n=l.leadingZero(e.getMinutes());return t+":"+n},exact:function(e){var e=date.transform(e),t=l.leadingZero(e.getHours()),n=l.leadingZero(e.getMinutes()),o=l.leadingZero(e.getSeconds()),r=l.leadingZero(e.getMilliseconds());return t+":"+n+":"+o+":"+r},full:function(e){var e=date.transform(e),t=l.leadingZero(e.getHours()),n=l.leadingZero(e.getMinutes()),o=l.leadingZero(e.getSeconds());return t+":"+n+":"+o},hours:function(e){return 60*e*60*1e3},leadingZero:function(e){return(e<10?"0":"")+e},minutes:function(e){return 60*e*1e3},seconds:function(e){return 1e3*e}};e.time=l}return e}(Rocket||{}),RocketFlickerComponent=function(){var e=!0,t={arrow:function(e){var e=e||"left",t=document.createElement("div");return t.className="rocket-flicker-arrow _"+e,t},dots:function(e){var t=document.createElement("div"),n=document.createElement("ul");t.className="rocket-flicker-dots";for(var o=0,r=e;o<r;o++){var i=document.createElement("li"),a=document.createElement("div");a.className=0===o?"dot _active":"dot",i.appendChild(a),n.appendChild(i)}return t.appendChild(n),t}},n=function(){Rocket.is.touch()||(Rocket.class.add(Rocket.dom.html,"rocket-no-touch"),e=!1)},o=function(e,n){if(!e||"object"!=typeof n)return!1;var n=JSON.parse(JSON.stringify(n)),o=e.querySelector("ul"),r=e.querySelectorAll("li"),i=r.length,a={UL:o,LIs:r};if(n.count=i,Rocket.class.add(e,["rocket-flicker","_a-"+n.animation]),Rocket.class.add(o,"flicks"),i>0)for(var s=0,c=i;s<c;s++){var l=r[s].getAttribute("data-background")||!1;l&&(r[s].style.backgroundImage="url("+l+")")}return"scroller-slide"!==n.animation&&(n.arrows&&(a.arrows={left:e.insertBefore(t.arrow("left"),o),right:e.insertBefore(t.arrow("right"),o)}),n.dots&&(a.dots=e.insertBefore(t.dots(i),o),Rocket.class.add(a.dots,"_"+n.dotAlignment))),{flicker:e,options:n,elements:a}},r=function(t){if(!t)return!1;var n,o=t.elements,r=t.flicker,i=t.options,a=0,s=0,c=0,l=0,u="translate3d(0, 0, 0)",f=100,d=0,m=function(){return!("scroller-slide"===i.animation||!i.arrows)&&(Rocket.event.add(o.arrows.left,"click",function(){y("previous")}),void Rocket.event.add(o.arrows.right,"click",function(){y("next")}))},p=function(){n=setTimeout(function(){y("next")},Rocket.time.seconds(i.autoFlickDelay))},k=function(){clearTimeout(n)},g=function(e){1===i.position&&d>0?d=0:i.position===i.count&&d<e&&(d=e)},v=function(){return!("scroller-slide"===i.animation||!i.dots)&&void Rocket.event.add(o.dots,"click",function(e){Rocket.has.class(e.target,"dot")&&!Rocket.has.class(e.target,"_active")&&y(Rocket.get.index(e.target.parentNode)+1)})},y=function(e){switch(i.autoFlick&&i.autoFlickDelay&&(k(),p()),e){case"next":i.position<i.count?i.position++:i.arrowsConstraint||(i.position=1);break;case"previous":i.position>1?i.position--:i.arrowsConstraint||(i.position=i.count);break;default:if("number"!=typeof e)return!1;e<=i.count&&e>=1?i.position=e:e>=i.count?i.position=i.count:e<=1&&(i.position=1)}var t=i.position-1;switch(i.animation){case"transform-slide":var n="translate3d(-"+t+"00%, 0, 0)";o.UL.setAttribute("style","-webkit-transform:"+n+";-o-transform:"+n+";-moz-transform:"+n+";transform:"+n),l=100*-t;break;case"transition-fade":Rocket.class.remove(o.UL.querySelector("li._active"),"_active"),Rocket.class.add(o.UL.querySelector("li:nth-child("+i.position+")"),"_active");break;case"transition-slide":o.UL.style.left="-"+t+"00%",c=-(t+"00")}"scroller-slide"!==i.animation&&i.dots&&(Rocket.class.remove(o.dots.querySelector("._active"),"_active"),Rocket.class.add(o.dots.querySelector("li:nth-child("+i.position+") .dot"),"_active"))},h=function(){if("function"==typeof Hammer)if("transform-slide"===i.animation||"transition-slide"===i.animation){var e=new Hammer(o.UL);e.on("panstart",function(e){R()}),e.on("panleft panright",function(e){w(e)}),e.on("panend",function(e){x(e)})}else if("transition-fade"===i.animation){var e=new Hammer(o.UL);e.on("swipeleft swiperight",function(e){b(e)})}},w=function(e){switch(i.animation){case"transform-slide":d=Math.round(e.deltaX/s*1e3)/10+l,g(100*-(i.count-1)),u="translate3d("+d+"%, 0, 0)",o.UL.setAttribute("style","-webkit-transform:"+u+";-o-transform:"+u+";-moz-transform:"+u+";transform:"+u);break;case"transition-slide":d=Math.round(e.deltaX/s*100)+c,g(-(100*(i.count-1))),o.UL.style.left=d+"%"}},R=function(){k(),s=r.clientWidth,Rocket.class.remove(r,"_a-"+i.animation)},x=function(e){a=e.deltaX,Rocket.class.add(r,"_a-"+i.animation),a<-f&&i.position<i.count?y("next"):a>f&&i.position>1&&y("previous")},b=function(e){"swipeleft"==e.type?y("next"):"swiperight"==e.type&&y("previous")},F=function(e){var e="number"==typeof e?e:Rocket.defaults.flicker.autoFlickDelay;clearTimeout(n),i.autoFlick=!0,i.autoFlickDelay=e,n=setTimeout(function(){y("next")},Rocket.time.seconds(i.autoFlickDelay))},A=function(){i.autoFlick&&i.autoFlickDelay&&(clearTimeout(n),i.autoFlick=!1)};return m(),v(),y(i.position),e&&h(),{flicker:r,move:y,start:F,stop:A}},i=function(e){var e="object"==typeof e&&e,t={selector:"string"==typeof e.selector?e.selector:Rocket.defaults.flicker.selector,animation:"string"==typeof e.animation?e.animation:Rocket.defaults.flicker.animation,arrows:"boolean"==typeof e.arrows?e.arrows:Rocket.defaults.flicker.arrows,arrowsConstraint:"boolean"==typeof e.arrowsConstraint?e.arrowsConstraint:Rocket.defaults.flicker.arrowsConstraint,autoFlick:"boolean"==typeof e.autoFlick?e.autoFlick:Rocket.defaults.flicker.autoFlick,autoFlickDelay:"number"==typeof e.autoFlickDelay?e.autoFlickDelay:Rocket.defaults.flicker.autoFlickDelay,dotAlignment:"string"==typeof e.dotAlignment?e.dotAlignment:Rocket.defaults.flicker.dotAlignment,dots:"boolean"==typeof e.dots?e.dots:Rocket.defaults.flicker.dots,position:"number"==typeof e.position?e.position:Rocket.defaults.flicker.position},n=document.querySelectorAll(t.selector);if(n.length<1)return!1;for(var i=[],a=0,s=n.length;a<s;a++)i.push(new r(o(n[a],t)));return i};return n(),{init:i}}();Rocket.flicker=function(e){return RocketFlickerComponent.init(e)};